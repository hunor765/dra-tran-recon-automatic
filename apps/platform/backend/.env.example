# DRA Platform - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================
# Required Settings
# ============================================

# Database connection
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/dra_platform

# Encryption key for connector credentials
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-32-byte-base64-encoded-fernet-key-here

# Supabase configuration (required for auth)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# ============================================
# Application Settings
# ============================================

# Environment: development, staging, or production
ENVIRONMENT=development

# Application version
VERSION=2.0.0

# Logging level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ============================================
# Frontend Configuration
# ============================================

# URL of the frontend application (for email links)
FRONTEND_URL=http://localhost:3000

# CORS origins (comma-separated list)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:4000

# ============================================
# Email Service (Resend)
# ============================================

# Get your API key from: https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Sender configuration
FROM_EMAIL=noreply@datarevolt.agency
FROM_NAME="DRA Reconciliation Platform"

# ============================================
# Redis Configuration (Optional but Recommended)
# ============================================

# Redis URL for caching and scheduler persistence
# Format: redis://host:port/db or rediss:// for SSL
REDIS_URL=redis://localhost:6379/0

# Cache TTL in seconds
CACHE_TTL_SECONDS=300

# Enable/disable caching
CACHE_ENABLED=true

# ============================================
# Monitoring (Sentry)
# ============================================

# Sentry DSN for error tracking
# Get from: https://sentry.io/settings/projects/your-project/keys/
SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# ============================================
# Data Retention (Optional)
# ============================================

# Number of days to retain different data types
RETENTION_JOB_RESULTS_DAYS=90
RETENTION_JOB_LOGS_DAYS=30
RETENTION_FAILED_JOBS_DAYS=180
RETENTION_AUDIT_LOGS_DAYS=365
RETENTION_OLD_JOBS_DAYS=365

# ============================================
# Webhooks (Optional)
# ============================================

# Secret for signing webhook payloads
WEBHOOK_SECRET=your-webhook-signing-secret

# Webhook request timeout
WEBHOOK_TIMEOUT_SECONDS=30

# Maximum webhook retry attempts
WEBHOOK_MAX_RETRIES=3

# ============================================
# Rate Limiting (Optional)
# ============================================

# Enable/disable rate limiting
RATE_LIMIT_ENABLED=true
